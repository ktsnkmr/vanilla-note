{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts/gatsbyjs-adjust-1/","result":{"data":{"markdownRemark":{"html":"<p>今回の内容－<br>\nlighthouse(web.dev)の判定の課題。webfont の扱いの変更。Typography.js を利用しない。早急にナビゲーションが必要だ。<!-- end --></p>\n<h2 id=\"デベロッパーツールの-lighthouse-で確認して、評価の低いところを修正\">デベロッパーツールの lighthouse で確認して、評価の低いところを修正</h2>\n<h3 id=\"点数を上げるために修正した点\">点数を上げるために修正した点</h3>\n<p>パフォーマンスの項目</p>\n<ul>\n<li>webfont の利用方法の変更</li>\n<li>favicon のサイズ　最低でも 512px の正方形サイズが必要</li>\n<li>(＃)ブロック要素をインライン要素で囲っているミスを修正</li>\n</ul>\n<p><em>＜メモ＞</em><br>\n(＃)の件、公式のチュートリアルがベースになっているので、公式も間違えるんだと確認してみたら、display:inline;となっていた。納得。</p>\n<p>アクセシビリティの項目</p>\n<ul>\n<li>文字と背景のコントラストの問題</li>\n<li>ナビゲーションがない問題</li>\n</ul>\n<h3 id=\"公開したサイトをデベロッパーツールの-lighthouse-で確認\">公開したサイトをデベロッパーツールの lighthouse で確認</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABgElEQVQoz12Qu07DQBBFXWM7Ji/R4be9juXwCBCUAgkQEiUICUoKPoDOBD/S8KVUEByH2EmVYi/jQKSI4mhWczVnZ1eYfL7zj/wD2VfGsyzDdDrF92yGoihQlAXG4zHyPEeVTSYTyr5RUjafLzDOcsyKEsvlki8WC5RlyYW3UYpROuJpmiKKIoRhiGH4giSOEb9GVBMkUfxbiaoXU/ZKvXAYY1hlSVz1eJIkEHYa27zVaqHdbvNGvQFJlqHsNFFTFEhtBXKdaCoQ6zWIioytZg2yJEGRRUjiL6IocrE6SxIXDMuCaZorLMOEEzC4Txdglz1Y9wOYV4ewb09h3/RhXfWwe9/Hcb+Ph8dnWLYN+x+CrmnQCF3XoaoqbNfB/tkJgsMu9gZH8A+66PT2iQBmx4W5xxAEXZxf30E3jNXsJkIlWlM1LNqY2Wy1recyOHRr0PHhEyYJLJ1e4TgIfA/Gn3DTIWzK1lXVVEKDS9/AGA17JOmQ3GfwPG/1korNmbXnB1QrCR8oc5ZZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/e03c29ef9b15445bf8e62bb822a4ad38/60a22/adjust1.webp 160w,\n/static/e03c29ef9b15445bf8e62bb822a4ad38/4c812/adjust1.webp 320w,\n/static/e03c29ef9b15445bf8e62bb822a4ad38/0ba47/adjust1.webp 640w,\n/static/e03c29ef9b15445bf8e62bb822a4ad38/e46b2/adjust1.webp 960w,\n/static/e03c29ef9b15445bf8e62bb822a4ad38/af3f0/adjust1.webp 1280w,\n/static/e03c29ef9b15445bf8e62bb822a4ad38/d87cc/adjust1.webp 1795w\"\n              sizes=\"(max-width: 640px) 100vw, 640px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/e03c29ef9b15445bf8e62bb822a4ad38/69538/adjust1.png 160w,\n/static/e03c29ef9b15445bf8e62bb822a4ad38/72799/adjust1.png 320w,\n/static/e03c29ef9b15445bf8e62bb822a4ad38/6af66/adjust1.png 640w,\n/static/e03c29ef9b15445bf8e62bb822a4ad38/d9199/adjust1.png 960w,\n/static/e03c29ef9b15445bf8e62bb822a4ad38/21b4d/adjust1.png 1280w,\n/static/e03c29ef9b15445bf8e62bb822a4ad38/ee779/adjust1.png 1795w\"\n            sizes=\"(max-width: 640px) 100vw, 640px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/e03c29ef9b15445bf8e62bb822a4ad38/6af66/adjust1.png\"\n            alt=\"100点\"\n            title=\"100点\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h3 id=\"webdev-は以下から\">web.dev は以下から</h3>\n<p>web.dev<br>\n<a href=\"https://web.dev/\">https://web.dev/</a></p>\n<p><em>＜メモ＞</em><br>\nChrome のデベロッパーツールの lighthouse では、よい判定結果が出ているが、web.dev ではそうではない。まだまだ改善できるところがあるということ。<br>\nいまは、ナビゲーションすらないので、今後はもっときびしい判定となるだろう。<br>\n追記：すでに満点でなくなっている。icon がおかしいらしい。</p>\n<h2 id=\"typographyjs-の利用を中止\">Typography.js の利用を中止</h2>\n<p>判定結果にもあらわれていたが、webfont の読み込みがパフォーマンスを左右するようだ。<br>\n代替えを検討する。</p>\n<p><em>＜メモ＞</em><br>\n実のところ、Typography.js の使用でも同じ結果が出ていた。<br>\nより軽量化を目指すために変更したと記しておく。</p>\n<h2 id=\"fontsource-を利用する\">Fontsource を利用する</h2>\n<p>Gatsby Using Web Fonts<br>\n<a href=\"https://www.gatsbyjs.com/docs/how-to/styling/using-web-fonts/\">https://www.gatsbyjs.com/docs/how-to/styling/using-web-fonts/</a></p>\n<p>fontsource<br>\n<a href=\"https://github.com/fontsource/fontsource\">https://github.com/fontsource/fontsource</a></p>\n<h3 id=\"googlefonts-の使用\">GoogleFonts の使用</h3>\n<p>fontsource のページにあるとおりにする。Gatsby 公式の<strong>説明は古くなっているようだ。</strong></p>\n<pre class=\"grvsc-container quiet-light\" data-language=\"sh\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">npm install @fontsource/source-sans-pro</span></span></span></code></pre>\n<pre class=\"grvsc-container quiet-light\" data-language=\"sh\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">import </span><span class=\"mtk6\">&quot;</span><span class=\"mtk4\">@fontsource/source-sans-pro/200.css</span><span class=\"mtk6\">&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">import </span><span class=\"mtk6\">&quot;</span><span class=\"mtk4\">@fontsource/source-sans-pro/400.css</span><span class=\"mtk6\">&quot;</span></span></span></code></pre>\n<p>レイアウトのコンポーネントで、import する。<br>\n使用しているウェイトのみ、import することにして、より軽量化する。</p>\n<p><em>＜メモ＞</em><br>\n和文フォントに関しては、いまのところは敬遠しておく。<br>\nTypekitWeb フォントの利用も気になるところだが、気にしておくだけにする。</p>\n<h2 id=\"今後の改良点\">今後の改良点</h2>\n<ul>\n<li>とにかくナビゲーションが必要。</li>\n<li>このままだと記事がすべてトップページに並ぶ。</li>\n<li>カテゴリーかタグかで仕分けが必要。</li>\n<li>トップページにめりはりがない。</li>\n<li>フォームいる？</li>\n</ul>\n<p><em>＜メモ＞</em><br>\nぽつぽつしていくとする。<br>\nわかりやすさにも配慮していく。<br>\nお問い合わせフォームは google フォームで対応済み。</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .quiet-light { background-color: #F5F5F5; }\n  .quiet-light .mtk1 { color: #333333; }\n  .quiet-light .mtk6 { color: #777777; }\n  .quiet-light .mtk4 { color: #448C27; }\n  .quiet-light .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n</style>","tableOfContents":"<ul>\n<li>\n<p><a href=\"/posts/gatsbyjs-adjust-1/#%E3%83%87%E3%83%99%E3%83%AD%E3%83%83%E3%83%91%E3%83%BC%E3%83%84%E3%83%BC%E3%83%AB%E3%81%AE-lighthouse-%E3%81%A7%E7%A2%BA%E8%AA%8D%E3%81%97%E3%81%A6%E3%80%81%E8%A9%95%E4%BE%A1%E3%81%AE%E4%BD%8E%E3%81%84%E3%81%A8%E3%81%93%E3%82%8D%E3%82%92%E4%BF%AE%E6%AD%A3\">デベロッパーツールの lighthouse で確認して、評価の低いところを修正</a></p>\n<ul>\n<li><a href=\"/posts/gatsbyjs-adjust-1/#%E7%82%B9%E6%95%B0%E3%82%92%E4%B8%8A%E3%81%92%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AB%E4%BF%AE%E6%AD%A3%E3%81%97%E3%81%9F%E7%82%B9\">点数を上げるために修正した点</a></li>\n<li><a href=\"/posts/gatsbyjs-adjust-1/#%E5%85%AC%E9%96%8B%E3%81%97%E3%81%9F%E3%82%B5%E3%82%A4%E3%83%88%E3%82%92%E3%83%87%E3%83%99%E3%83%AD%E3%83%83%E3%83%91%E3%83%BC%E3%83%84%E3%83%BC%E3%83%AB%E3%81%AE-lighthouse-%E3%81%A7%E7%A2%BA%E8%AA%8D\">公開したサイトをデベロッパーツールの lighthouse で確認</a></li>\n<li><a href=\"/posts/gatsbyjs-adjust-1/#webdev-%E3%81%AF%E4%BB%A5%E4%B8%8B%E3%81%8B%E3%82%89\">web.dev は以下から</a></li>\n</ul>\n</li>\n<li><a href=\"/posts/gatsbyjs-adjust-1/#typographyjs-%E3%81%AE%E5%88%A9%E7%94%A8%E3%82%92%E4%B8%AD%E6%AD%A2\">Typography.js の利用を中止</a></li>\n<li>\n<p><a href=\"/posts/gatsbyjs-adjust-1/#fontsource-%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B\">Fontsource を利用する</a></p>\n<ul>\n<li><a href=\"/posts/gatsbyjs-adjust-1/#googlefonts-%E3%81%AE%E4%BD%BF%E7%94%A8\">GoogleFonts の使用</a></li>\n</ul>\n</li>\n<li><a href=\"/posts/gatsbyjs-adjust-1/#%E4%BB%8A%E5%BE%8C%E3%81%AE%E6%94%B9%E8%89%AF%E7%82%B9\">今後の改良点</a></li>\n</ul>","timeToRead":2,"frontmatter":{"title":"GatsbyJSサイトの問題点と今後の対応","date":"2021.02.16","topImage":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAz0lEQVQI1x2Oy8tFABTE/f/2NtZKkiUbSV5ZUEKKuFfIYyHh88jzm+6pcxbT+c0Mse97lmVt277vO44jz/N1XUM0DINhGNx5npumSZLE87z2N9/vV1XV67qI4zjyPF/XFZIkSTRN932fpinLsoIgxHFcVVVZlqIo2rat6/owDPg3TRNhBLbruiiKZFn2ff88Tyiu61IUxXEcEizLCsNQUZTP51MUBUotywLHaZqI+76RCVLTtL/fbNsWBAFJkkhGVcdxgMEIJDoDfp4HTWHxDysLy7zyFfYeAAAAAElFTkSuQmCC","aspectRatio":4.848484848484849,"src":"/static/529bb829225d53d4b42d3a8d716f8e09/f3dec/2021-02-16.png","srcSet":"/static/529bb829225d53d4b42d3a8d716f8e09/e43a9/2021-02-16.png 160w,\n/static/529bb829225d53d4b42d3a8d716f8e09/dd5bb/2021-02-16.png 320w,\n/static/529bb829225d53d4b42d3a8d716f8e09/f3dec/2021-02-16.png 640w,\n/static/529bb829225d53d4b42d3a8d716f8e09/40ffe/2021-02-16.png 960w,\n/static/529bb829225d53d4b42d3a8d716f8e09/1b680/2021-02-16.png 1228w","srcWebp":"/static/529bb829225d53d4b42d3a8d716f8e09/991d2/2021-02-16.webp","srcSetWebp":"/static/529bb829225d53d4b42d3a8d716f8e09/578e8/2021-02-16.webp 160w,\n/static/529bb829225d53d4b42d3a8d716f8e09/8dbf3/2021-02-16.webp 320w,\n/static/529bb829225d53d4b42d3a8d716f8e09/991d2/2021-02-16.webp 640w,\n/static/529bb829225d53d4b42d3a8d716f8e09/1fb14/2021-02-16.webp 960w,\n/static/529bb829225d53d4b42d3a8d716f8e09/45ef9/2021-02-16.webp 1228w","sizes":"(max-width: 640px) 100vw, 640px"}}}},"excerpt":"今回の内容－ lighthouse(web.dev)の判定の課題。webfont の扱いの変更。Typography.js を利用しない。早急にナビゲーションが必要だ。","fields":{"slug":"/posts/gatsbyjs-adjust-1/"}},"site":{"siteMetadata":{"siteUrl":"https://vanilla-note.com","twitterUsername":"ktsnkmr"}}},"pageContext":{"slug":"/posts/gatsbyjs-adjust-1/"}},"staticQueryHashes":["1032900922","3159585216","3159585216"]}